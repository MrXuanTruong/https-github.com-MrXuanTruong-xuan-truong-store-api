@{
    ViewBag.Title = "Nhập kho";
}
<div class="row">
    <div class="col-md-12 grid-margin stretch-card">
        <div class="card">
            <h4 class="card-title">@ViewBag.Title</h4>
            <div class="card-body">
                <form class="forms-sample" id="product-form">
                    <div class="row">
                        <div class="col-md-9">
                            <div class="form-group row">
                                <label for="catagory" class="col-sm-2 col-form-label">Chi nhánh</label>
                                <div class="col-sm-9">
                                    <template>
                                        <v-select v-model="instock.branchId"
                                                  :options="branches"
                                                  :reduce="item => item.id"
                                                  label="name">
                                        </v-select>
                                    </template>
                                </div>
                            </div>
                            <div class="form-group row">
                                <label for="catagory" class="col-sm-1 col-form-label"></label>
                                <div class="col-sm-12">
                                    <table class="table">
                                        <thead>
                                            <tr>
                                                <th scope="col">Sản phẩm</th>
                                                <th scope="col">Màu sắc</th>
                                                <th scope="col">Số lượng</th>
                                                <th scope="col">Giá nhập</th>
                                                <th scope="col"><button class="btn" type="button" v-on:click="addNewColor"><i class="fa fa-plus"></i></button></th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr v-for="(item, index) in instock.details">
                                                <td class="c3_col_1">
                                                    <v-select v-model="item.productId"
                                                              :options="products"
                                                              :reduce="item => item.id"
                                                              label="productName">
                                                    </v-select>
                                                </td>
                                                <td class="c3_col_1">
                                                    <v-select v-model="item.colorId"
                                                              :options="colors"
                                                              :reduce="item => item.id"
                                                              label="name">
                                                    </v-select>
                                                </td>
                                                <td class="c3_col_1">
                                                    <input type="number" class="form-control" v-model="item.quantity">
                                                </td>
                                                <td class="c3_col_1">
                                                    <input type="number" class="form-control" v-model="item.price">
                                                </td>
                                                <td>
                                                    <button class="btn" type="button" v-on:click="deleteColor(item)"><i class="fa fa-trash"></i></button>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                            <div class="form-group row">
                                <label for="description" class="col-sm-2 col-form-label">Ghi chú</label>
                                <div class="col-sm-9">
                                    <textarea rows="5" cols="40"
                                              class="form-control" id="note" v-model="instock.note" required>
                                    </textarea>
                                </div>
                            </div>
                            <div class="form-group col-md-12 row">
                                <div class="col-sm-2"></div>
                                <div class="col-sm-9">
                                    <error-list :errors="errors"></error-list>
                                </div>
                            </div>
                            <div class="form-group col-md-12 row">
                                <div class="col-sm-3"></div>
                                <div class="col-sm-9">
                                    <button type="button" v-on:click="onClickInstock" class="btn btn-primary btn-sm">
                                        Nhập kho
                                    </button>
                                </div>
                            </div>
                        </div>

                        </div>
                </form>
            </div>
        </div>

    </div>

</div>
@section Scripts{
    <script src="~/js/services/populate.service.js" asp-append-version="true"></script>
    <script src="~/admin/js/features/check-box.component.js"></script>
    <script src="~/admin/js/features/group-check-box.component.js"></script>
    <script src="~/js/services/product-service.js" asp-append-version="true"></script>

}

